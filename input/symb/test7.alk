@symbolic $a: array<int>;
a = $a;
@assume forall i:int :: 0 <= i && i < a.size()-1 ==> a[i] <= a[i+1];
slp = 1;
i = 1;
while (i < a.size())
@invariant slp <= i
@invariant (forall k:int :: forall l:int ::
    0 <= k && k <= l && l < i && a[k] == a[l]
    ==>
    (l-k) <= slp)
@modifies slp, i
{
    if (a[i] == a[i - slp]) slp = slp+1;
    i = i + 1;
}