Fir de executie 1

MainState(env)
ChooseState(env)

FunctionCall(env2)
ExpressionState(env2)
IfState(env2)

env2 (a |-> 3)



Fir de executie 2

MainState(env')
ChooseState(env')

FunctionCall(env2')
ExpressionState(env2')
IfState(env2')

env -> env' (clone)
env2 -> env2' (clone)



Fir de executie 3

MainState
ChooseState

FunctionCall
ExpressionState
IfState


static EnvironmentController