gcd(a, b, out x, out y)
@requires a : int && b : int && x : int && y : int
@ensures \result : int
@ensures x * a + y * b == \result
{
    x = 1; y = 0; x1 = 0; y1 = 1; a1 = a; b1 = b;
    while (b1 > 0) 
    @invariant x * a + y * b == a1
    @invariant x1 * a + y1 * b == b1
    {
        q = a1 / b1;
        tmp = x; x = x1; x1 = tmp - q * x1;
        tmp = y; y = y1; y1 = tmp - q * y1;
        tmp = a1; a1 = b1; b1 = tmp - q * b1;
    }
    return a1;
}